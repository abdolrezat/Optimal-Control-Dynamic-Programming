%%
x = [1,2]
u1 = [3 0 -2]'
u2 = reshape([-4 2 4],[1 1 3])

J1 = x + u1 + 3*u2

%%
[X,U1,U2] = ndgrid([3 0 -2],[1,2],[-4 2 4])
J2 = X + U1 + 3*U2
%%

J3_p = u1 + 3*u2